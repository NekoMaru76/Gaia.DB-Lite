const uid = require("cuid");

function addEvent(name, callback, once) {
	const id = uid();
	
	if (typeof name     !== "string"  ) throw new Error(`Event name can only be a string.`      );
	if (typeof callback !== "function") throw new Error(`Event callback can only be a function.`);
	if (!this[name]) this[name] = [];
	
	this[name].push({
		callback: callback,
		once    : once,
		id      : id
	});
	
	return id;
}

module.exports = addEvent;